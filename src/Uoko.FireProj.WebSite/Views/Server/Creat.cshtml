
@{
    ViewBag.Title = "服务器新增";
}
@section Css {
<link href="~/Metronic/assets/global/plugins/easyUI/easyui.css" rel="stylesheet" />
<link href="~/Metronic/assets/global/plugins/easyUI/icon.css" rel="stylesheet" />
}
<div class="col-md-12">
    <div ng-controller="ServerController">
        <!-- BEGIN  HEADER-->
        <div class="page-bar">
            <ul class="page-breadcrumb">
                <li>
                    <i class="fa fa-home"></i>
                    <a href="/">主页</a>
                    <i class="fa fa-angle-right"></i>
                </li>
                <li>
                    <a href="@Url.Action("Index","Project")">服务器管理</a>
                    <i class="fa fa-angle-right"></i>
                </li>
                <li>
                    <a href="#">服务器新增</a>

                </li>
            </ul>

        </div>
        <!-- END  HEADER-->
        <!--BEGIN Form -->
        <div>
            <div class="portlet  box blue">
                <div class="portlet-title">
                    <div class="caption">
                        <i class="fa fa-plus"></i>服务器新增
                    </div>
                    <div class="actions">
                        <a class="btn btn-circle btn-icon-only btn-default fullscreen" href="javascript:;" data-original-title="" title="全屏"></a>
                    </div>
                </div>
                    <div class="portlet-body form">
                        <div id="bootstrap_alerts_demo"></div>
                        <form role="form" class="form-horizontal" name="serverForm" novalidate>
                            <div class="form-body">
                                <div class="form-group form-md-line-input">
                                    <label class="col-md-2 control-label" for="form_control_1">服务器名称</label>
                                    <div class="col-md-10">
                                        <input type="text" class="form-control" id="form_control_1" ng-model="model.Name" placeholder="请输入服务器名称" required>
                                        <div class="form-control-focus">
                                        </div>
                                        <span class="help-block">服务器名称是必填</span>
                                    </div>
                                </div>
                                <div class="form-group form-md-line-input">
                                    <label class="col-md-2 control-label" for="form_control_1">服务器IP</label>
                                    <div class="col-md-10">
                                        <input type="text" class="form-control" id="form_control_1" ng-model="model.IP" placeholder="请输入服务器IP" required>
                                        <div class="form-control-focus">
                                        </div>
                                        <span class="help-block">服务器IP是必填</span>
                                    </div>
                                </div>
                                <div class="form-group form-md-line-input">
                                    <label class="col-md-2 control-label" for="form_control_1">环境</label>
                                    <div class="col-md-10">
                                        <select name="deployenvironment" class="form-control" ng-model="model.EnvironmentType" required>
                                            <option ng-repeat="environment in environmentList" value="{{environment.Id}}" ng-selected="environment.Id==taskInfo.DeployEnvironment">{{environment.Name}}</option>
                                        </select>
                                        <div class="form-control-focus">
                                        </div>
                                        <span class="help-block">环境必选</span>
                                    </div>
                                </div>
                                <div class="form-group form-md-line-input">
                                    <label class="col-md-2 control-label" for="form_control_1">储路路径</label>
                                    <div class="col-md-10">
                                        <input type="text" class="form-control" id="form_control_1" ng-model="model.PackageDir" placeholder="请输入储路路径" required>
                                        <div class="form-control-focus">
                                        </div>
                                        <span class="help-block">储路路径是必填</span>
                                    </div>
                                </div>
                                <div class="form-group form-md-line-input">
                                    <label class="col-md-2 control-label" for="form_control_1">描述</label>
                                    <div class="col-md-10">
                                        <textarea class="form-control" rows="3" ng-model="model.ServerDesc"></textarea>
                                        <div class="form-control-focus">
                                        </div>
                                    </div>

                                </div>
                                @*<div class="form-group form-md-line-input">
                                    <label class="col-md-2 control-label" for="form_control_1">IIS配置信息</label>
                                    <div class="col-md-10">
                                        <textarea class="form-control" rows="10" ng-model="model.SiteInfoJson"></textarea>
                                        <div class="form-control-focus">
                                        </div>
                                    </div>

                                </div>*@

                                <div class="portlet box blue">
                                    <div class="portlet-title">
                                        <div class="caption">
                                            <i class="fa fa-cog"></i>IIS配置
                                        </div>
                                        
                                    </div>
                                    <table id="dg"></table>
                                    <div id="tb" style="height:auto">
                                        <a href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:'icon-add',plain:true" onclick="append()">新增</a>
                                        <a href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:'icon-remove',plain:true" onclick="removeit()">删除</a>
                                        <a href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:'icon-save',plain:true" onclick="accept()">保存</a>
                                    </div>
                                </div>
                                
                                @*<div class="form-group form-md-line-input">
                                    <label class="col-md-2 control-label" for="form_control_1">域名</label>
                                    <div class="col-md-10">
                                        <input type="text" class="form-control" id="form_control_1" ng-model="model.Domain" ng-change="model.SiteName=model.Domain" placeholder="请输入域名: xxx.uoko.ioc">
                                        <div class="form-control-focus">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group form-md-line-input">
                                    <label class="col-md-2 control-label" for="form_control_1">IIS站点名称</label>
                                    <div class="col-md-10">
                                        <input type="text" class="form-control" id="form_control_1" ng-model="model.SiteName"   placeholder="请输入IIS站点名称">
                                    </div>
                                </div>
                                <div class="form-group form-md-line-input">
                                    <label class="col-md-2 control-label" for="form_control_1">所属项目</label>
                                    <div class="col-md-10">
                                        <select class="form-control" name="project" ng-model="model.project">
                                            <option ng-repeat="project in projectList" value="{{project}}" ng-selected="project.Id==model.ProjectId">{{project.ProjectName}}</option>
                                        </select>
                                        <button type="button" class="btn green  btn-lg" ng-click="Append(model)">Append</button>
                                    </div>
                                  
                                </div>*@
                                
                            </div>
                            @*<div class="table-responsive">
                                <table class="table table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th>序号</th>
                                            <th>域名</th>
                                            <th>IIS站点名称</th>
                                            <th>所属项目Id</th>
                                            <th>所属项目</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="item in items track by $index">
                                            <td>{{item.Index}}</td>
                                            <td>{{item.Name}}</td>
                                            <td>{{item.SiteName}}</td>
                                            <td>{{item.ProjectId}}</td>
                                            <td>{{item.ProjectName}}</td>
                                            <td>
                                                <div>
                                                    <a class="btn btn-success" ng-click="edit(item)">编辑</a>
                                                    <a class="btn btn-success" ng-click="delete(item)">删除</a>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>*@
                           
                                
                               
                                <div class="form-actions">
                                    <div class="row">
                                        <div class="col-md-offset-2 col-md-10">
                                            <button type="button" class="btn blue btn-lg" ng-disabled="serverForm.$invalid" ng-click="SubmitFrom(model)">提交</button>
                                            <a type="button" class="btn default btn-lg" href="@Url.Action("ServerMgmt","SystemSet")">取消</a>
                                        </div>
                                    </div>
                                </div>
                        </form>
			        </div>
                </div>
            </div>
        </div>
        <!--END Form -->
    </div>
</div>

@section Scripts {
<script src="~/app/controllers/ServerCreate.js"></script>
<script src="~/app/services/ServerServer.js"></script>
<script src="~/app/services/TaskService.js"></script>
<script src="~/app/services/ProjectService.js"></script>
<script src="~/Metronic/assets/global/plugins/easyUI/jquery.easyui.min.js"></script>
}


